<Styles xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:c="using:WalletWasabi.Fluent.Controls">
  <Design.PreviewWith>
    <c:ClipboardCopyButton Height="100" Width="200" />
  </Design.PreviewWith>

  <Style Selector="c|ClipboardCopyButton">
    <Setter Property="Template">
      <ControlTemplate>
        <Panel>
          <c:AnimatedButton x:Name="CopyButton" Command="{TemplateBinding CopyCommand}"
                            ToolTip.Tip="{Binding ToolTipText}"
                            NormalIcon="{StaticResource copy_regular}"
                            ClickIcon="{StaticResource copy_confirmed}"
                            InitialOpacity="0.6"/>
          <Popup IsOpen="{TemplateBinding IsPopupOpen}" PlacementTarget="CopyButton" PlacementMode="AnchorAndGravity" PlacementGravity="Top" PlacementAnchor="Top">
            <Border Margin="6" Padding="10" Background="{StaticResource SystemBaseLowColor}" BorderBrush="{StaticResource TextForegroundColor}" CornerRadius="10" BorderThickness="1">
              <TextBlock Text="{TemplateBinding CopiedMessage}" />
            </Border>
          </Popup>
        </Panel>
      </ControlTemplate>
    </Setter>
  </Style>
</Styles>
