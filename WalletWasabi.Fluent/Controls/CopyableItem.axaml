<Styles xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:controls="using:WalletWasabi.Fluent.Controls"
        xmlns:converters="clr-namespace:WalletWasabi.Fluent.Converters">
  <Design.PreviewWith>
    <controls:CopyableItem>
      <TextBlock>Hello everyone!</TextBlock>
    </controls:CopyableItem>
  </Design.PreviewWith>

  <Style Selector="controls|CopyableItem">
    <!-- Set Defaults -->
    <Setter Property="Template">
      <ControlTemplate>
        <Grid x:Name="Grid" Background="Transparent" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}">
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="20" />
            <ColumnDefinition />
            <ColumnDefinition Width="Auto" />
          </Grid.ColumnDefinitions>
          <ContentPresenter Grid.Column="1" Content="{TemplateBinding Content}" ContentTemplate="{TemplateBinding ContentTemplate}" />
          <Panel Grid.Column="2" Width="20">
            <controls:ClipboardCopyButton VerticalAlignment="Center" HorizontalAlignment="Center" x:Name="CopyButton" Text="{TemplateBinding ContentToCopy}">
              <controls:ClipboardCopyButton.IsVisible>
                <MultiBinding Converter="{x:Static converters:BooleanConverters.Or}">
                  <Binding Path="#Grid.IsPointerOver" />
                  <Binding Path="#CopyButton.CopyCommand.IsExecuting^" />
                </MultiBinding>
              </controls:ClipboardCopyButton.IsVisible>
            </controls:ClipboardCopyButton>
          </Panel>
        </Grid>
      </ControlTemplate>
    </Setter>
  </Style>
</Styles>
