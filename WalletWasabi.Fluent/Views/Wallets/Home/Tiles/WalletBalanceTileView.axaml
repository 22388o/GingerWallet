<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:c="clr-namespace:WalletWasabi.Fluent.Controls"
             xmlns:converters="clr-namespace:WalletWasabi.Fluent.Converters"
             xmlns:tiles="clr-namespace:WalletWasabi.Fluent.ViewModels.Wallets.Home.Tiles"
             mc:Ignorable="d" d:DesignWidth="320" d:DesignHeight="140"
             x:CompileBindings="True"
             x:DataType="tiles:WalletBalanceTileViewModel"
             x:Class="WalletWasabi.Fluent.Views.Wallets.Home.Tiles.WalletBalanceTileView" ClipToBounds="False">

  <UserControl.Styles>
    <Style Selector="c|PreviewItem">
      <Setter Property="Template">
        <ControlTemplate>
          <Panel ClipToBounds="False">
            <ContentPresenter Name="PART_ContentPresenter" Content="{TemplateBinding Content}"
                              ContentTemplate="{TemplateBinding ContentTemplate}"
                              HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}"
                              VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}" />
            <c:ClipboardCopyButton x:Name="PART_ClipboardCopyButton" 
                                   ToolTip.Tip="Copy"
                                   HorizontalAlignment="Right"
                                   Width="30"
                                   Margin="0 0 -30 0"
                                   Text="{TemplateBinding TextValue}"
                                   IsVisible="{TemplateBinding IsCopyButtonVisible}" />
          </Panel>
        </ControlTemplate>
      </Setter>
    </Style>
  </UserControl.Styles>

  <c:TileControl Title="BALANCE" IsBottomContentVisible="{Binding HasBalance^}" SeparatorMargin="0 0 0 6">
    <Viewbox Margin="0 3" VerticalAlignment="Center" MaxHeight="40">
      <c:CopyableItem ContentToCopy="{Binding BalanceBtc^}">
        <c:PrivacyContentControl Classes="h2 monoSpaced" HorizontalContentAlignment="Center"
                                 Content="{Binding BalanceBtc^, Converter={x:Static converters:MoneyConverters.ToBtc}}" />
      </c:CopyableItem>
    </Viewbox>
    <c:TileControl.BottomContent>
      <c:PrivacyContentControl Classes="bold monoSpaced" Margin="4" VerticalAlignment="Center"
                               Opacity="0.8"
                               HorizontalContentAlignment="Center"
                               Content="{Binding BalanceFiat^, Converter={x:Static converters:MoneyConverters.ToUsdAproxBetweenParens}}" />
    </c:TileControl.BottomContent>
  </c:TileControl>
</UserControl>
